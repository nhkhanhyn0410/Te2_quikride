#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Prevent pushing to main/master directly
current_branch=$(git symbolic-ref HEAD | sed -e 's,.*/\(.*\),\1,')

if [ "$current_branch" = "main" ] || [ "$current_branch" = "master" ]; then
  echo "‚ùå Direct push to $current_branch is not allowed!"
  echo "Please create a pull request instead."
  exit 1
fi

# Run tests before push (optional, can be slow)
# echo "Running tests before push..."
# cd backend && npm test
# cd ../frontend && npm test
